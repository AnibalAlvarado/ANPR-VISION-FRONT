<!--

<div class="zones-container">
  <div class="header-section">

    <button
      mat-raised-button
      color="primary"
      class="create-btn"
      (click)="goToCreate()"
      matTooltip="Crear nueva zona">
      <mat-icon>add</mat-icon>
      Nueva Zona
    </button>
  </div>

  <div class="filters-section">
    <mat-card class="search-card">
      <div class="search-container">
        <mat-icon class="search-icon">search</mat-icon>
        <input
          type="text"
          placeholder="Buscar zonas..."
          class="search-input"
          (keyup)="applyFilter($event)">
      </div>
    </mat-card>
  </div>

  <div class="zones-grid" *ngIf="dataSource.data.length > 0">
    <mat-card
      class="zone-card"
      *ngFor="let zone of dataSource.data"
      [class.deleted]="zone.isDeleted">

      <div class="zone-header">
        <div class="zone-info">
          <h3 class="zone-name">{{ zone.name }}</h3>
          <p class="parking-name">
            <mat-icon class="info-icon">business</mat-icon>
            {{ zone.parking }}
          </p>
        </div>

        <div class="status-container">
          <span
            class="status-badge"
            [class.active]="zone.asset"
            [class.inactive]="!zone.asset">
            <mat-icon class="status-icon">
              {{ zone.asset ? 'check_circle' : 'cancel' }}
            </mat-icon>
            {{ zone.asset ? 'Activo' : 'Inactivo' }}
          </span>
        </div>
      </div>

      <div class="deletion-status" *ngIf="zone.isDeleted">
        <mat-icon class="warning-icon">warning</mat-icon>
        <span>Eliminado l贸gicamente</span>
      </div>

      <div class="actions-section">
        <div class="action-buttons">
          <ng-container *ngIf="!zone.isDeleted">
            <button
              mat-raised-button
              color="primary"
              class="action-btn edit-btn"
              (click)="goToEdit(zone)"
              matTooltip="Editar zona">
              <mat-icon>edit</mat-icon>
              Editar
            </button>

            <button
              mat-raised-button
              color="warn"
              class="action-btn delete-btn"
              (click)="deleteZone(zone.id!)"
              matTooltip="Eliminar zona">
              <mat-icon>delete</mat-icon>
              Eliminar
            </button>
          </ng-container>

          <ng-container *ngIf="zone.isDeleted">
            <button
              mat-raised-button
              color="primary"
              class="action-btn edit-btn"
              disabled
              matTooltip="No se puede editar una zona eliminada">
              <mat-icon>edit</mat-icon>
              Editar
            </button>

            <button
              mat-raised-button
              color="warn"
              class="action-btn delete-btn"
              disabled
              matTooltip="Zona ya eliminada l贸gicamente">
              <mat-icon>delete</mat-icon>
              Eliminar
            </button>

            <button
              mat-raised-button
              color="accent"
              class="action-btn permanent-delete-btn"
              (click)="deletePermanentModule(zone.id!)"
              matTooltip="Eliminar permanentemente">
              <mat-icon>delete_forever</mat-icon>
              Eliminar Permanente
            </button>
          </ng-container>
        </div>
      </div>
    </mat-card>
  </div>

  <div class="empty-state" *ngIf="dataSource.data.length === 0">
    <mat-card class="empty-card">
      <h2>No hay zonas registradas</h2>
      <p>Comienza creando tu primera zona de parqueadero</p>
      <button
        mat-raised-button
        color="primary"
        (click)="goToCreate()">
        <mat-icon>add</mat-icon>
        Crear Primera Zona
      </button>
    </mat-card>
  </div>
</div> -->

<div class="parking-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-content">
      <div class="hero-text">
        <div class="stats-bar">
          <div class="stat-item">
            <span class="stat-number">{{ getTotalZones() }}</span>
            <span class="stat-label">Total</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ getActiveZones() }}</span>
            <span class="stat-label">Activas</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ getDeletedZones() }}</span>
            <span class="stat-label">Eliminadas</span>
          </div>
        </div>
      </div>
      <div class="hero-actions">
        <button
          mat-fab
          extended
          color="primary"
          class="create-parking-btn"
          (click)="goToCreate()"
          matTooltip="Crear nueva zona">
          <mat-icon class="title-icon">location_on</mat-icon>
          Nueva Zona
        </button>
      </div>
    </div>
  </div>

  <!-- Toolbar Section -->
  <div class="toolbar-section">
    <mat-card class="toolbar-card">
      <div class="toolbar-content">
        <div class="search-section">
          <div class="search-wrapper">
            <mat-icon class="search-icon">search</mat-icon>
            <input
              type="text"
              placeholder="Buscar zonas por nombre o parqueadero..."
              class="search-input"
              (keyup)="applyFilter($event)">
          </div>
        </div>

        <div class="filter-chips">
          <button
            mat-stroked-button
            [class.active]="selectedFilter === 'all'"
            (click)="filterByStatus('all')"
            class="filter-chip">
            Todas
          </button>
          <button
            mat-stroked-button
            [class.active]="selectedFilter === 'active'"
            (click)="filterByStatus('active')"
            class="filter-chip">
            Activas
          </button>
          <button
            mat-stroked-button
            [class.active]="selectedFilter === 'inactive'"
            (click)="filterByStatus('inactive')"
            class="filter-chip">
            Inactivas
          </button>
          <button
            mat-stroked-button
            [class.active]="selectedFilter === 'deleted'"
            (click)="filterByStatus('deleted')"
            class="filter-chip deleted">
            Eliminadas
          </button>
        </div>
      </div>
    </mat-card>
  </div>

  <!-- Parking List -->
  <div class="parking-list" *ngIf="dataSource.data.length > 0">
    <div
      class="parking-item"
      *ngFor="let zone of dataSource.data"
      [class.deleted-item]="zone.isDeleted">

      <!-- Parking Card -->
      <mat-card class="parking-card">
        <div class="parking-header">
          <div class="parking-info">
            <h2 class="parking-name">{{ zone.name }}</h2>
            <div class="parking-details">
              <div class="detail-row">
                <mat-icon class="detail-icon">garage</mat-icon>
                <span class="detail-text">{{ zone.parking }}</span>
              </div>
              <div class="detail-row">
                <mat-icon class="detail-icon">tag</mat-icon>
                <span class="detail-text">ID: {{ zone.id }}</span>
              </div>
            </div>
          </div>

          <div class="parking-status-section">
            <!-- Status Badge -->
            <div class="status-wrapper">
              <div
                class="status-badge"
                [class.active]="zone.asset && !zone.isDeleted"
                [class.inactive]="!zone.asset && !zone.isDeleted"
                [class.deleted]="zone.isDeleted">
                <mat-icon class="status-icon">
                  {{ zone.isDeleted ? 'delete' : (zone.asset ? 'check_circle' : 'cancel') }}
                </mat-icon>
                <span class="status-text">
                  {{ zone.isDeleted ? 'Eliminada' : (zone.asset ? 'Activa' : 'Inactiva') }}
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Deletion Warning -->
        <div class="deletion-warning" *ngIf="zone.isDeleted">
          <mat-icon class="warning-icon">warning_amber</mat-icon>
          <span class="warning-text">Esta zona ha sido eliminada l贸gicamente del sistema</span>
        </div>

        <!-- Actions Section -->
        <div class="actions-section">
          <div class="actions-wrapper">
            <!-- Normal State Actions -->
            <ng-container *ngIf="!zone.isDeleted">
              <button
                mat-raised-button
                color="primary"
                class="action-btn primary-action"
                (click)="goToEdit(zone)"
                matTooltip="Editar zona">
                <mat-icon>edit_location</mat-icon>
                <span>Editar</span>
              </button>

              <button
                mat-raised-button
                color="warn"
                class="action-btn danger-action"
                (click)="deleteZone(zone.id!)"
                matTooltip="Eliminar zona">
                <mat-icon>delete_outline</mat-icon>
                <span>Eliminar</span>
              </button>
            </ng-container>

            <!-- Deleted State Actions -->
            <ng-container *ngIf="zone.isDeleted">
              <button
                mat-raised-button
                class="action-btn disabled-action"
                disabled
                matTooltip="No se puede editar una zona eliminada">
                <mat-icon>edit_off</mat-icon>
                <span>Editar</span>
              </button>

              <button
                mat-raised-button
                class="action-btn disabled-action"
                disabled
                matTooltip="Zona ya eliminada l贸gicamente">
                <mat-icon>delete_outline</mat-icon>
                <span>Eliminar</span>
              </button>

              <button
                mat-raised-button
                color="accent"
                class="action-btn permanent-action"
                (click)="deletePermanentZone(zone.id!)"
                matTooltip="Eliminar permanentemente del sistema">
                <mat-icon>delete_forever</mat-icon>
                <span>Eliminar Permanente</span>
              </button>
            </ng-container>
          </div>
        </div>
      </mat-card>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="dataSource.data.length === 0">
    <div class="empty-content">
      <div class="empty-illustration">
        <mat-icon class="empty-icon">location_on</mat-icon>
        <div class="empty-cars">
          <mat-icon class="car-icon">place</mat-icon>
          <mat-icon class="car-icon">place</mat-icon>
          <mat-icon class="car-icon">place</mat-icon>
        </div>
      </div>
      <h2 class="empty-title">No hay zonas registradas</h2>
      <button
        mat-raised-button
        color="primary"
        class="empty-action-btn"
        (click)="goToCreate()">
        <mat-icon>add_location</mat-icon>
        Crear Primera Zona
      </button>
    </div>
  </div>

</div>
